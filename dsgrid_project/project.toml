# TODO: This configuration is under active development. Currently it is set up for TEMPO, ComStock, ResStock data only but it will later be expanded to include all project configuration details.

description = """Dataset created for the FY21 dsgrid Load Profile Tool for Grid Modeling project"""
name = "dsgrid CONUS 2022"
project_id = "dsgrid_conus_2022"
dimension_associations = ["dimension_associations/data_source__metric.csv", "dimension_associations/data_source__model_year.csv", "dimension_associations/data_source__sector.csv", "dimension_associations/data_source__subsector.csv", "dimension_associations/model_year__metric.csv", "dimension_associations/model_year__subsector.csv", "dimension_associations/scenario__data_source.csv", "dimension_associations/scenario__metric.csv", "dimension_associations/scenario__sector.csv", "dimension_associations/scenario__subsector.csv", "dimension_associations/sector__metric.csv", "dimension_associations/sector__model_year.csv", "dimension_associations/sector__subsector.csv", "dimension_associations/subsector__metric.csv"]

# ------------------------------------------------------
# Input Datasets Dimensions
# ------------------------------------------------------
# [datasets]
# benchmark = [] # ignoring this for now
# historical = [] # ignoring this for now

[[datasets]]
dataset_id = "tempo_conus_2022"
dataset_type = "sector_model"
model_sector = "tempo"
version = "1.0.0"

[[datasets]]
dataset_id = "conus_2022_reference_resstock"
dataset_type = "sector_model"
model_sector = "resstock"
version = "1.0.0"

[[datasets]]
dataset_id = "conus_2022_reference_comstock"
dataset_type = "sector_model"
model_sector = "comstock"
version = "1.0.0"

[dimensions]
# ------------------------------------------------------
# Base Dimensions
# ------------------------------------------------------
[[dimensions.base_dimensions]]
class = "County"
description = """
US counties for L48, Census 2020 vintage, no territories
"""
file = "dimensions/counties.csv"
module = "dsgrid.dimension.standard"
name = "US Counties 2020 L48"
type = "geography"

[[dimensions.base_dimensions]]
class = "Sector"
description = """
dsgrid Standard Scenarios 2021 Sectors; Commercial, Residential, Transportation  Only
"""
file = "dimensions/sectors.csv"
module = "dsgrid.dimension.standard"
name = "Sectors - Com-Res-Tra-Only"
type = "sector"

[[dimensions.base_dimensions]]
class = "Subsector"
description = """
dsgrid CONUS 2022 Subsectors
"""
file = "dimensions/subsectors.csv"
module = "dsgrid.dimension.standard"
name = "CONUS-2022-Detailed-Subsectors"
type = "subsector"

# [[dimensions.base_dimensions]] # TODO: this is what we ultimately want to be using for the project
# class = "EnergyEndUse"
# description = """
# dsgrid CONUS 2022 End Uses
# """
# file = "dimensions/enduses.csv"
# module = "dsgrid.dimension.standard"
# name = "CONUS-2022-Detailed-End-Uses"
# type = "metric"

[[dimensions.base_dimensions]] # TODO: this is for the dummy data deliverable
class = "EnergyEndUse"
description = """
dsgrid CONUS 2022 End Uses (all fuel types) w/ all units in kWh
"""
file = "dimensions/enduses_kwh.csv"
module = "dsgrid.dimension.standard"
name = "CONUS-2022-Detailed-End-Uses-kWh"
type = "metric"

[[dimensions.base_dimensions]]
class = "ModelYear"
description = """
Model year, 2010-2050, every other year
"""
file = "dimensions/model_years.csv"
module = "dsgrid.dimension.standard"
name = "Model Years 2010 to 2050 with 2 year intervals"
type = "model_year"

[[dimensions.base_dimensions]]
class = "Scenario"
description = """
Scenarios for the dsgrid CONUS 2022 project, which include a Reference scenario
and two light-duty vehicle electrification scenarios
"""
file = "dimensions/scenarios.csv"
module = "dsgrid.dimension.standard"
name = "CONUS-2022-scenarios"
type = "scenario"

[[dimensions.base_dimensions]]
class = "DataSource"
description = """
dsgrid Standard Scenarios 2021 Data Sources; ComStock, TEMPO, ResStock Only
"""
file = "dimensions/sources.csv"
module = "dsgrid.dimension.standard"
name = "Data-Sources - ComStock-ResStock-TEMPO-Only"
type = "data_source"

[[dimensions.base_dimensions]]
class = "Time"
frequency = "P0DT1H0M0.000000S"
name = "Time-2012-UTC-houlry-periodBeginning-noDST-noLeapDayAdjustment-total"
ranges = [{start = "2012-01-01 00:00:00", end = "2013-12-31 23:00:00"}]
time_type = "datetime"
leap_day_adjustment = "none"
description = """
Time dimension, 2012 hourly UTC, hour-beginning, no DST, no Leap Day Adjustment, total value
"""
time_interval_type = "period_beginning"
str_format = "%Y-%m-%d %H:%M:%S"
timezone = "UTC"
measurement_type = "total"
type = "time"

[[dimensions.base_dimensions]]
class = "WeatherYear"
description = """
Weather year, 2012 only
"""
file = "dimensions/weather_years.csv"
module = "dsgrid.dimension.standard"
name = "2012 Weather Year"
type = "weather_year"

# ------------------------------------------------------
# Supplemental Dimensions
# ------------------------------------------------------
[[dimensions.supplemental_dimensions]]
class = "State"
description = """
US States
"""
file = "dimensions/supplemental/states.csv"
module = "dsgrid.dimension.standard"
name = "US States"
type = "geography"

[[dimensions.supplemental_dimensions]]
class = "CensusRegion"
description = """
US Census Regions
"""
file = "dimensions/supplemental/census_regions.csv"
module = "dsgrid.dimension.standard"
name = "US Census Regions"
type = "geography"

[[dimensions.supplemental_dimensions]]
class = "CensusDivision"
description = """
US Census Divisions
"""
file = "dimensions/supplemental/census_divisions.csv"
module = "dsgrid.dimension.standard"
name = "US Census Divisions"
type = "geography"

[[dimensions.supplemental_dimensions]]
class = "GeographyDimensionBaseModel" # <---- ?
description = """
ReEDS Power Control Areas
"""
file = "dimensions/supplemental/reeds_pca.csv"
module = "dsgrid.dimension.standard"
name = "ReEDS PCA"
type = "geography"

### All in one dims
[[dimensions.supplemental_dimensions]]
class = "Sector"
description = """
All Sectors
"""
file = "dimensions/supplemental/all_sectors.csv"
module = "dsgrid.dimension.standard"
name = "all-sectors"
type = "sector"

[[dimensions.supplemental_dimensions]]
class = "Subsector"
description = """
All Subsectors
"""
file = "dimensions/supplemental/all_subsectors.csv"
module = "dsgrid.dimension.standard"
name = "all-subsectors"
type = "subsector"

[[dimensions.supplemental_dimensions]]
class = "EnergyEndUse"
description = """
All Electric End Uses
"""
file = "dimensions/supplemental/all_electric_enduses.csv"
module = "dsgrid.dimension.standard"
name = "all-electric-end-uses"
type = "metric"

[[dimensions.supplemental_dimensions]]
class = "DataSource"
description = """
All Data Sources
"""
file = "dimensions/supplemental/all_sources.csv"
module = "dsgrid.dimension.standard"
name = "all-data-sources"
type = "data_source"

# ------------------------------------------------------
# Dimension Mappings
# ------------------------------------------------------
[[dimension_mappings.base_to_supplemental]]
description = "Maps US Counties 2020 L48 to CensusRegion"
file = "dimension_mappings/base_to_supplemental/lookup_county_to_censusregion.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "US Counties 2020 L48"
type = "geography"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "US Census Regions"
type = "geography"

[[dimension_mappings.base_to_supplemental]]
description = "Maps US Counties 2020 L48 to CensusDivision"
file = "dimension_mappings/base_to_supplemental/lookup_county_to_censusdivision.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
type = "geography"
name = "US Counties 2020 L48"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "US Census Divisions"
type = "geography"

[[dimension_mappings.base_to_supplemental]]
description = "Maps US Counties 2020 L48 to State"
file = "dimension_mappings/base_to_supplemental/lookup_county_to_state.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "US Counties 2020 L48"
type = "geography"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "US States"
type = "geography"

[[dimension_mappings.base_to_supplemental]]
description = "Maps US Counties 2020 L48 to ReEDS Power Control Areas"
file = "dimension_mappings/base_to_supplemental/lookup_county_to_reeds_pca.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "US Counties 2020 L48"
type = "geography"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "ReEDS PCA"
type = "geography"

### all to one ###
[[dimension_mappings.base_to_supplemental]]
description = "Aggregation map for Com-Res-Tra sectors"
file = "dimension_mappings/base_to_supplemental/lookup_sectors_to_all_sectors.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "Sectors - Com-Res-Tra-Only"
type = "sector"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "all-sectors"
type = "sector"

[[dimension_mappings.base_to_supplemental]]
description = "Aggregation map for all dsgrid CONUS 2022 subsectors"
file = "dimension_mappings/base_to_supplemental/lookup_subsectors_to_all_subsectors.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "CONUS-2022-Detailed-Subsectors"
type = "subsector"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "all-subsectors"
type = "subsector"

[[dimension_mappings.base_to_supplemental]]
description = "Aggregation map for ComStock-ResStock-TEMPO data sources"
file = "dimension_mappings/base_to_supplemental/lookup_sources_to_all_sources.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "Data-Sources - ComStock-ResStock-TEMPO-Only"
type = "data_source"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "all-data-sources"
type = "data_source"

[[dimension_mappings.base_to_supplemental]]
description = "Aggregation map for all dsgrid CONUS 2022 electric end uses"
file = "dimension_mappings/base_to_supplemental/lookup_enduses_to_all_electric_enduses.csv"
mapping_type = "many_to_one_aggregation"
[dimension_mappings.base_to_supplemental.from_dimension]
name = "CONUS-2022-Detailed-End-Uses-kWh"
type = "metric"
[dimension_mappings.base_to_supplemental.to_dimension]
name = "all-electric-end-uses"
type = "metric"
